<!--
  Generated template for the MatchcommentaryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>{{matchService.abbrTeam1}} Vs {{matchService.abbrTeam2}}, {{matchService.match.matchType}}, {{matchService.match.pool}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<div row class="white-bg">
	  <ion-segment [(ngModel)]="matchcommentary">
	    <ion-segment-button value="set1">
	      Set 1
	    </ion-segment-button>
	    
		    <ion-segment-button value="set2">
		      Set 2
		    </ion-segment-button>
	    
		    <ion-segment-button *ngIf="matchService.match.currentSet == 'set3'" value="set3">
		      Set 3
		    </ion-segment-button>
	    
	  </ion-segment>
  </div>

	<div margin-top>
		<div [ngSwitch]="matchcommentary">
  		<ng-container *ngFor="let setpointsHash of matchSets">
				<ion-list  *ngSwitchCase="setpointsHash[0]">
					<ion-item  *ngFor="let setpoint of setpointsHash[1]">
						<ion-avatar item-start>
				      <img src="{{setpoint.team == this.matchService.team1.name ? this.matchService.team1.logoUrl : this.matchService.team2.logoUrl}}">
				    </ion-avatar>
						<div>
							<h2><span class="font-500">{{setpoint.team1point}} - {{setpoint.team2point}},</span>
							<span class="font-500"> {{matchService.getAbbr(setpoint.team)}} point</span></h2>
							<p *ngIf="!(setpoint.wonMethod == 'Opponent Error')">{{setpoint.wonMethod}} point by {{matchService.playerProfiles[setpoint.wonBy] ? matchService.playerProfiles[setpoint.wonBy].displayName : ""}}</p>
						 	<p *ngIf="setpoint.assistBy">Assisted by {{matchService.playerProfiles[setpoint.assistBy] ? matchService.playerProfiles[setpoint.assistBy].displayName : ""}}</p>
							<p *ngIf="setpoint.errorMethod && setpoint.errorBy">{{setpoint.errorMethod}} by {{matchService.playerProfiles[setpoint.errorBy] ? matchService.playerProfiles[setpoint.errorBy].displayName : ""}}</p>
						</div>
					</ion-item>
				</ion-list>
			</ng-container>
		</div>
 	</div>
</ion-content>
